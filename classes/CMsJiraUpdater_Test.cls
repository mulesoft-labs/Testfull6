/**
 * Testsuit for CMsJiraUpdater class.
 */
@isTest
private class CMsJiraUpdater_Test {

    static testMethod void updateJiraLink_Test() {
        Account testAccount = MuleSoftInf_TestDataUtility.buildAccountRecord();
        testAccount.Name = 'Test Account Inc.';
        INSERT testAccount;
        System.debug('Our test account is: ' + testAccount);
        String accountId = testAccount.Id;
 
        System.Test.startTest();
        System.Test.setMock(HttpCalloutMock.class, new CMsJiraUpdater_Test_CalloutMock());
        String updateMapJson = '{ "SE-4526": [ { "attributes": { "type": "Case", "url": "/services/data/v44.0/sobjects/Case/5003400000ixvzhAAA" }, "Origin": "Web", "LastModifiedDate": "2018-11-23T17:52:04.000+0000", "Anypoint_Organization__c": "_HL_ENCODED_https://anypoint.mulesoft.com/admin/index.html#/organization/e9430012-6a40-4b08-8d55-64c71197e44f/settings_HL_Victoria University Anypoint Org Settings_HL__blank_HL_", "MsPending_on__c": "Customer", "IsSelfServiceClosed": false, "BusinessHoursId": "01m30000000CdvuAAC", "Version__c": "3.6.1", "IsClosedOnCreate": false, "Product__c": "Mule Management Console (MMC)", "Status": "Waiting On Customer", "RedAlert__c": false, "IsDeleted": false, "HasCommentsUnreadByOwner": false, "Days_b_t_New_and_Working__c": 0.0, "QPS__c": 1254.21, "Was_Escalated_to_PM__c": false, "Operating_System__c": "Windows (Generic)", "Hours_Spent__c": 0.0, "Reopened__c": false, "IsEscalated": false, "Dispatch_Completed__c": false, "Created_Hour_of_Day__c": 5, "Id": "5003400000ixvzhAAA", "IsVisibleInCss": false, "Topics_Covered__c": "Other", "Support_Portal_URL__c": "https://support.mulesoft.com/s/case/5003400000ixvzh", "JVMVersion__c": "1.7", "Initial_Response_Time__c": 0.1, "Description": "Description", "Last_Follow_Up__c": "2015-06-23T14:24:54.000+0000", "Override_Auto_Close__c": false, "Was_Escalated_to_Eng__c": false, "Pacific_DST_Offset__c": 0.2917, "IsClosed": false, "ContactPhone": "0399191919", "Originator__c": "Paid Customer", "WoC_First_Reminder__c": "2018-11-14T14:13:06.000+0000", "OwnerId": "00580000008LcbnAAC", "WoC_Second_Reminder__c": "2018-11-20T14:13:06.000+0000", "RecordTypeId": "012800000002y3wAAA", "Escalation_JIRA_Link__c": "_HL_ENCODED_http://www.mulesoft.org/jira/browse/SE-4526_HL_SE-4526_HL__blank_HL_", "CaseNumber": "00029772", "Escalation_JIRA_Status__c": "Verification", "HasCssComments": false, "IsVisibleInSelfService": true, "Defect_ER_Number__c": "SE-4526", "SystemModstamp": "2018-11-23T17:52:04.000+0000", "Defect_ER_Impediment__c": "Impediment", "Type": "Issue", "Is_Contact_Member_of_Account__c": true, "EventsProcessedDate": "2016-05-10T00:24:16.000+0000", "Case_Open_To_Defect_ER__c": 0.0, "Defect_ER_Status__c": "Verification", "WoC_Scheduled_Auto_Close__c": "2018-11-27T14:13:06.000+0000", "n2de__Is_triggered__c": false, "QPS_New__c": 1254.21, "Defect_ER_Type__c": "Bug", "AccountId": "' + accountId + '", "Workaround__c": "Yes", "MuleSoft_Autorization__c": false, "Outcome__c": "Defect/ER Addressed", "CreatedById": "00580000005jjtaAAA", "Date_Defect_ER_Submitted__c": "2015-06-23T13:19:59.000+0000", "ClosedOnCreate": false, "Days_to_WoC__c": 1234.1, "Found_Answer_In__c": "Based on Previous Experience", "Is_Case_Contact__c": false, "Priority": "S3", "No_Active_Subscription__c": false, "Defect_ER_Subject__c": "Subject SE-4526 (9)", "CreatedByAlias": "tsnel", "IsSelfClosed": false, "Date_Waiting_on_Customer__c": "2018-11-08T14:13:06.000+0000", "Defect_ER_Link__c": "_HL_ENCODED_http://www.mulesoft.org/jira/browse/SE-4526_HL_SE-4526_HL__blank_HL_", "CurrencyIsoCode": "USD", "Closed_Day_of_Week_Pacific__c": "Error", "Cases__c": 1, "Case_Owner__c": "Adrian Martin", "IsStopped": false, "Account_Region__c": "APAC - ANZ", "CreatedDate": "2015-06-23T12:44:16.000+0000", "Phase__c": "Development", "Escalation_JIRA_Impediment__c": "Impediment", "Escalation_JIRA__c": "SE-4526", "ContactId": "0033000000Khb0lAAB", "Auto_Closed__c": false, "HasSelfServiceComments": true, "LastModifiedByAlias": "amart", "Start_Date__c": "2015-06-23", "n2de__Is_trigger_enabled__c": false, "Previous_Status__c": "Solution Offered", "Date_Working_Starts__c": "2015-06-23T12:44:17.000+0000", "n2de__Is_distributed__c": false, "Days_to_Resolution__c": 0.0, "n2de__Is_archived__c": false, "Subject": "TEST JIRA_SFDC 2", "Days_From_New_to_Working__c": "0 days 0 hours 0 mn ", "Created_Day_of_Week__c": "Tuesday", "Escalation_JIRA_Type__c": "Bug", "Last_Customer_Update__c": "2015-06-23T13:19:59.000+0000", "Case_Id_18_digit__c": "5003400000ixvzhAAA", "MsDays_on_customer__c": 15, "ContactEmail": "adrinicomartin@gmail.com", "LastModifiedById": "00580000008LcbnAAC", "n2de__Is_reassigned__c": false }, { "attributes": { "type": "Case", "url": "/services/data/v44.0/sobjects/Case/5003400000ixvzhAAA" }, "Origin": "Web", "LastModifiedDate": "2018-11-23T17:52:04.000+0000", "Anypoint_Organization__c": "_HL_ENCODED_https://anypoint.mulesoft.com/admin/index.html#/organization/e9430012-6a40-4b08-8d55-64c71197e44f/settings_HL_Victoria University Anypoint Org Settings_HL__blank_HL_", "MsPending_on__c": "Customer", "IsSelfServiceClosed": false, "BusinessHoursId": "01m30000000CdvuAAC", "Version__c": "3.6.1", "IsClosedOnCreate": false, "Product__c": "Mule Management Console (MMC)", "Status": "Waiting On Customer", "RedAlert__c": false, "IsDeleted": false, "HasCommentsUnreadByOwner": false, "Days_b_t_New_and_Working__c": 0.0, "QPS__c": 1254.21, "Was_Escalated_to_PM__c": false, "Operating_System__c": "Windows (Generic)", "Hours_Spent__c": 0.0, "Reopened__c": false, "IsEscalated": false, "Dispatch_Completed__c": false, "Created_Hour_of_Day__c": 5, "Id": "5003400000ixvzhAAA", "IsVisibleInCss": false, "Topics_Covered__c": "Other", "Support_Portal_URL__c": "https://support.mulesoft.com/s/case/5003400000ixvzh", "JVMVersion__c": "1.7", "Initial_Response_Time__c": 0.1, "Description": "Description", "Last_Follow_Up__c": "2015-06-23T14:24:54.000+0000", "Override_Auto_Close__c": false, "Was_Escalated_to_Eng__c": false, "Pacific_DST_Offset__c": 0.2917, "IsClosed": false, "ContactPhone": "0399191919", "Originator__c": "Paid Customer", "WoC_First_Reminder__c": "2018-11-14T14:13:06.000+0000", "OwnerId": "00580000008LcbnAAC", "WoC_Second_Reminder__c": "2018-11-20T14:13:06.000+0000", "RecordTypeId": "012800000002y3wAAA", "Escalation_JIRA_Link__c": "_HL_ENCODED_http://www.mulesoft.org/jira/browse/SE-4526_HL_SE-4526_HL__blank_HL_", "CaseNumber": "00029772", "Escalation_JIRA_Status__c": "Verification", "HasCssComments": false, "IsVisibleInSelfService": true, "Defect_ER_Number__c": "SE-4526", "SystemModstamp": "2018-11-23T17:52:04.000+0000", "Defect_ER_Impediment__c": "Impediment", "Type": "Issue", "Is_Contact_Member_of_Account__c": true, "EventsProcessedDate": "2016-05-10T00:24:16.000+0000", "Case_Open_To_Defect_ER__c": 0.0, "Defect_ER_Status__c": "Verification", "WoC_Scheduled_Auto_Close__c": "2018-11-27T14:13:06.000+0000", "n2de__Is_triggered__c": false, "QPS_New__c": 1254.21, "Defect_ER_Type__c": "Bug", "AccountId": "' + accountId + '", "Workaround__c": "Yes", "MuleSoft_Autorization__c": false, "Outcome__c": "Defect/ER Addressed", "CreatedById": "00580000005jjtaAAA", "Date_Defect_ER_Submitted__c": "2015-06-23T13:19:59.000+0000", "ClosedOnCreate": false, "Days_to_WoC__c": 1234.1, "Found_Answer_In__c": "Based on Previous Experience", "Is_Case_Contact__c": false, "Priority": "S3", "No_Active_Subscription__c": false, "Defect_ER_Subject__c": "Subject SE-4526 (9)", "CreatedByAlias": "tsnel", "IsSelfClosed": false, "Date_Waiting_on_Customer__c": "2018-11-08T14:13:06.000+0000", "Defect_ER_Link__c": "_HL_ENCODED_http://www.mulesoft.org/jira/browse/SE-4526_HL_SE-4526_HL__blank_HL_", "CurrencyIsoCode": "USD", "Closed_Day_of_Week_Pacific__c": "Error", "Cases__c": 1, "Case_Owner__c": "Adrian Martin", "IsStopped": false, "Account_Region__c": "APAC - ANZ", "CreatedDate": "2015-06-23T12:44:16.000+0000", "Phase__c": "Development", "Escalation_JIRA_Impediment__c": "Impediment", "Escalation_JIRA__c": "SE-4526", "ContactId": "0033000000Khb0lAAB", "Auto_Closed__c": false, "HasSelfServiceComments": true, "LastModifiedByAlias": "amart", "Start_Date__c": "2015-06-23", "n2de__Is_trigger_enabled__c": false, "Previous_Status__c": "Solution Offered", "Date_Working_Starts__c": "2015-06-23T12:44:17.000+0000", "n2de__Is_distributed__c": false, "Days_to_Resolution__c": 0.0, "n2de__Is_archived__c": false, "Subject": "TEST JIRA_SFDC 2", "Days_From_New_to_Working__c": "0 days 0 hours 0 mn ", "Created_Day_of_Week__c": "Tuesday", "Escalation_JIRA_Type__c": "Bug", "Last_Customer_Update__c": "2015-06-23T13:19:59.000+0000", "Case_Id_18_digit__c": "5003400000ixvzhAAA", "MsDays_on_customer__c": 15, "ContactEmail": "adrinicomartin@gmail.com", "LastModifiedById": "00580000008LcbnAAC", "n2de__Is_reassigned__c": false } ] } ';
        CMsJiraUpdater.updateJiraLink(updateMapJson);
        System.Test.stopTest();

    }
    

    static testMethod void createJiraLink_Test() {
        Account testAccount = MuleSoftInf_TestDataUtility.buildAccountRecord();
        testAccount.Name = 'Test Account Inc.';
        INSERT testAccount;
        System.debug('Our test account is: ' + testAccount);
        String accountId = testAccount.Id;
        System.Test.startTest();

        System.Test.setMock(HttpCalloutMock.class, new CMsJiraUpdater_Test_CalloutMock());
        
        String createMapJson = '{ "SE-4528": [ { "attributes": { "type": "Case", "url": "/services/data/v44.0/sobjects/Case/5003400000ixvzhAAA" }, "Origin": "Web", "LastModifiedDate": "2018-11-23T17:52:04.000+0000", "Anypoint_Organization__c": "_HL_ENCODED_https://anypoint.mulesoft.com/admin/index.html#/organization/e9430012-6a40-4b08-8d55-64c71197e44f/settings_HL_Victoria University Anypoint Org Settings_HL__blank_HL_", "MsPending_on__c": "Customer", "IsSelfServiceClosed": false, "BusinessHoursId": "01m30000000CdvuAAC", "Version__c": "3.6.1", "IsClosedOnCreate": false, "Product__c": "Mule Management Console (MMC)", "Status": "Waiting On Customer", "RedAlert__c": false, "IsDeleted": false, "HasCommentsUnreadByOwner": false, "Days_b_t_New_and_Working__c": 0.0, "QPS__c": 1254.21, "Was_Escalated_to_PM__c": false, "Operating_System__c": "Windows (Generic)", "Hours_Spent__c": 0.0, "Reopened__c": false, "IsEscalated": false, "Dispatch_Completed__c": false, "Created_Hour_of_Day__c": 5, "Id": "5003400000ixvzhAAA", "IsVisibleInCss": false, "Topics_Covered__c": "Other", "Support_Portal_URL__c": "https://support.mulesoft.com/s/case/5003400000ixvzh", "JVMVersion__c": "1.7", "Initial_Response_Time__c": 0.1, "Description": "Description", "Last_Follow_Up__c": "2015-06-23T14:24:54.000+0000", "Override_Auto_Close__c": false, "Was_Escalated_to_Eng__c": false, "Pacific_DST_Offset__c": 0.2917, "IsClosed": false, "ContactPhone": "0399191919", "Originator__c": "Paid Customer", "WoC_First_Reminder__c": "2018-11-14T14:13:06.000+0000", "OwnerId": "00580000008LcbnAAC", "WoC_Second_Reminder__c": "2018-11-20T14:13:06.000+0000", "RecordTypeId": "012800000002y3wAAA", "Escalation_JIRA_Link__c": "_HL_ENCODED_http://www.mulesoft.org/jira/browse/SE-4526_HL_SE-4526_HL__blank_HL_", "CaseNumber": "00029772", "Escalation_JIRA_Status__c": "Verification", "HasCssComments": false, "IsVisibleInSelfService": true, "Defect_ER_Number__c": "SE-4526", "SystemModstamp": "2018-11-23T17:52:04.000+0000", "Defect_ER_Impediment__c": "Impediment", "Type": "Issue", "Is_Contact_Member_of_Account__c": true, "EventsProcessedDate": "2016-05-10T00:24:16.000+0000", "Case_Open_To_Defect_ER__c": 0.0, "Defect_ER_Status__c": "Verification", "WoC_Scheduled_Auto_Close__c": "2018-11-27T14:13:06.000+0000", "n2de__Is_triggered__c": false, "QPS_New__c": 1254.21, "Defect_ER_Type__c": "Bug", "AccountId": "' + accountId + '", "Workaround__c": "Yes", "MuleSoft_Autorization__c": false, "Outcome__c": "Defect/ER Addressed", "CreatedById": "00580000005jjtaAAA", "Date_Defect_ER_Submitted__c": "2015-06-23T13:19:59.000+0000", "ClosedOnCreate": false, "Days_to_WoC__c": 1234.1, "Found_Answer_In__c": "Based on Previous Experience", "Is_Case_Contact__c": false, "Priority": "S3", "No_Active_Subscription__c": false, "Defect_ER_Subject__c": "Subject SE-4526 (9)", "CreatedByAlias": "tsnel", "IsSelfClosed": false, "Date_Waiting_on_Customer__c": "2018-11-08T14:13:06.000+0000", "Defect_ER_Link__c": "_HL_ENCODED_http://www.mulesoft.org/jira/browse/SE-4526_HL_SE-4526_HL__blank_HL_", "CurrencyIsoCode": "USD", "Closed_Day_of_Week_Pacific__c": "Error", "Cases__c": 1, "Case_Owner__c": "Adrian Martin", "IsStopped": false, "Account_Region__c": "APAC - ANZ", "CreatedDate": "2015-06-23T12:44:16.000+0000", "Phase__c": "Development", "Escalation_JIRA_Impediment__c": "Impediment", "Escalation_JIRA__c": "SE-4526", "ContactId": "0033000000Khb0lAAB", "Auto_Closed__c": false, "HasSelfServiceComments": true, "LastModifiedByAlias": "amart", "Start_Date__c": "2015-06-23", "n2de__Is_trigger_enabled__c": false, "Previous_Status__c": "Solution Offered", "Date_Working_Starts__c": "2015-06-23T12:44:17.000+0000", "n2de__Is_distributed__c": false, "Days_to_Resolution__c": 0.0, "n2de__Is_archived__c": false, "Subject": "TEST JIRA_SFDC 2", "Days_From_New_to_Working__c": "0 days 0 hours 0 mn ", "Created_Day_of_Week__c": "Tuesday", "Escalation_JIRA_Type__c": "Bug", "Last_Customer_Update__c": "2015-06-23T13:19:59.000+0000", "Case_Id_18_digit__c": "5003400000ixvzhAAA", "MsDays_on_customer__c": 15, "ContactEmail": "adrinicomartin@gmail.com", "LastModifiedById": "00580000008LcbnAAC", "n2de__Is_reassigned__c": false }, { "attributes": { "type": "Case", "url": "/services/data/v44.0/sobjects/Case/5003400000ixvzhAAA" }, "Origin": "Web", "LastModifiedDate": "2018-11-23T17:52:04.000+0000", "Anypoint_Organization__c": "_HL_ENCODED_https://anypoint.mulesoft.com/admin/index.html#/organization/e9430012-6a40-4b08-8d55-64c71197e44f/settings_HL_Victoria University Anypoint Org Settings_HL__blank_HL_", "MsPending_on__c": "Customer", "IsSelfServiceClosed": false, "BusinessHoursId": "01m30000000CdvuAAC", "Version__c": "3.6.1", "IsClosedOnCreate": false, "Product__c": "Mule Management Console (MMC)", "Status": "Waiting On Customer", "RedAlert__c": false, "IsDeleted": false, "HasCommentsUnreadByOwner": false, "Days_b_t_New_and_Working__c": 0.0, "QPS__c": 1254.21, "Was_Escalated_to_PM__c": false, "Operating_System__c": "Windows (Generic)", "Hours_Spent__c": 0.0, "Reopened__c": false, "IsEscalated": false, "Dispatch_Completed__c": false, "Created_Hour_of_Day__c": 5, "Id": "5003400000ixvzhAAA", "IsVisibleInCss": false, "Topics_Covered__c": "Other", "Support_Portal_URL__c": "https://support.mulesoft.com/s/case/5003400000ixvzh", "JVMVersion__c": "1.7", "Initial_Response_Time__c": 0.1, "Description": "Description", "Last_Follow_Up__c": "2015-06-23T14:24:54.000+0000", "Override_Auto_Close__c": false, "Was_Escalated_to_Eng__c": false, "Pacific_DST_Offset__c": 0.2917, "IsClosed": false, "ContactPhone": "0399191919", "Originator__c": "Paid Customer", "WoC_First_Reminder__c": "2018-11-14T14:13:06.000+0000", "OwnerId": "00580000008LcbnAAC", "WoC_Second_Reminder__c": "2018-11-20T14:13:06.000+0000", "RecordTypeId": "012800000002y3wAAA", "Escalation_JIRA_Link__c": "_HL_ENCODED_http://www.mulesoft.org/jira/browse/SE-4526_HL_SE-4526_HL__blank_HL_", "CaseNumber": "00029772", "Escalation_JIRA_Status__c": "Verification", "HasCssComments": false, "IsVisibleInSelfService": true, "Defect_ER_Number__c": "SE-4526", "SystemModstamp": "2018-11-23T17:52:04.000+0000", "Defect_ER_Impediment__c": "Impediment", "Type": "Issue", "Is_Contact_Member_of_Account__c": true, "EventsProcessedDate": "2016-05-10T00:24:16.000+0000", "Case_Open_To_Defect_ER__c": 0.0, "Defect_ER_Status__c": "Verification", "WoC_Scheduled_Auto_Close__c": "2018-11-27T14:13:06.000+0000", "n2de__Is_triggered__c": false, "QPS_New__c": 1254.21, "Defect_ER_Type__c": "Bug", "AccountId": "' + accountId + '", "Workaround__c": "Yes", "MuleSoft_Autorization__c": false, "Outcome__c": "Defect/ER Addressed", "CreatedById": "00580000005jjtaAAA", "Date_Defect_ER_Submitted__c": "2015-06-23T13:19:59.000+0000", "ClosedOnCreate": false, "Days_to_WoC__c": 1234.1, "Found_Answer_In__c": "Based on Previous Experience", "Is_Case_Contact__c": false, "Priority": "S3", "No_Active_Subscription__c": false, "Defect_ER_Subject__c": "Subject SE-4526 (9)", "CreatedByAlias": "tsnel", "IsSelfClosed": false, "Date_Waiting_on_Customer__c": "2018-11-08T14:13:06.000+0000", "Defect_ER_Link__c": "_HL_ENCODED_http://www.mulesoft.org/jira/browse/SE-4526_HL_SE-4526_HL__blank_HL_", "CurrencyIsoCode": "USD", "Closed_Day_of_Week_Pacific__c": "Error", "Cases__c": 1, "Case_Owner__c": "Adrian Martin", "IsStopped": false, "Account_Region__c": "APAC - ANZ", "CreatedDate": "2015-06-23T12:44:16.000+0000", "Phase__c": "Development", "Escalation_JIRA_Impediment__c": "Impediment", "Escalation_JIRA__c": "SE-4526", "ContactId": "0033000000Khb0lAAB", "Auto_Closed__c": false, "HasSelfServiceComments": true, "LastModifiedByAlias": "amart", "Start_Date__c": "2015-06-23", "n2de__Is_trigger_enabled__c": false, "Previous_Status__c": "Solution Offered", "Date_Working_Starts__c": "2015-06-23T12:44:17.000+0000", "n2de__Is_distributed__c": false, "Days_to_Resolution__c": 0.0, "n2de__Is_archived__c": false, "Subject": "TEST JIRA_SFDC 2", "Days_From_New_to_Working__c": "0 days 0 hours 0 mn ", "Created_Day_of_Week__c": "Tuesday", "Escalation_JIRA_Type__c": "Bug", "Last_Customer_Update__c": "2015-06-23T13:19:59.000+0000", "Case_Id_18_digit__c": "5003400000ixvzhAAA", "MsDays_on_customer__c": 15, "ContactEmail": "adrinicomartin@gmail.com", "LastModifiedById": "00580000008LcbnAAC", "n2de__Is_reassigned__c": false } ] } ';
        CMsJiraUpdater.createJiraLink(createMapJson);

        System.Test.stopTest();
    }
    

    static testMethod void destroyJiraLink_Test() {
        Account testAccount = MuleSoftInf_TestDataUtility.buildAccountRecord();
        testAccount.Name = 'Test Account Inc.';
        INSERT testAccount;
        System.debug('Our test account is: ' + testAccount);
        String accountId = testAccount.Id;
        System.Test.startTest();

        System.Test.setMock(HttpCalloutMock.class, new CMsJiraUpdater_Test_CalloutMock());
        
        String destroyMapJson = '{ "SE-4527": [ { "attributes": { "type": "Case", "url": "/services/data/v44.0/sobjects/Case/5003400000ixvzhAAA" }, "Origin": "Web", "LastModifiedDate": "2018-11-23T17:52:04.000+0000", "Anypoint_Organization__c": "_HL_ENCODED_https://anypoint.mulesoft.com/admin/index.html#/organization/e9430012-6a40-4b08-8d55-64c71197e44f/settings_HL_Victoria University Anypoint Org Settings_HL__blank_HL_", "MsPending_on__c": "Customer", "IsSelfServiceClosed": false, "BusinessHoursId": "01m30000000CdvuAAC", "Version__c": "3.6.1", "IsClosedOnCreate": false, "Product__c": "Mule Management Console (MMC)", "Status": "Waiting On Customer", "RedAlert__c": false, "IsDeleted": false, "HasCommentsUnreadByOwner": false, "Days_b_t_New_and_Working__c": 0.0, "QPS__c": 1254.21, "Was_Escalated_to_PM__c": false, "Operating_System__c": "Windows (Generic)", "Hours_Spent__c": 0.0, "Reopened__c": false, "IsEscalated": false, "Dispatch_Completed__c": false, "Created_Hour_of_Day__c": 5, "Id": "5003400000ixvzhAAA", "IsVisibleInCss": false, "Topics_Covered__c": "Other", "Support_Portal_URL__c": "https://support.mulesoft.com/s/case/5003400000ixvzh", "JVMVersion__c": "1.7", "Initial_Response_Time__c": 0.1, "Description": "Description", "Last_Follow_Up__c": "2015-06-23T14:24:54.000+0000", "Override_Auto_Close__c": false, "Was_Escalated_to_Eng__c": false, "Pacific_DST_Offset__c": 0.2917, "IsClosed": false, "ContactPhone": "0399191919", "Originator__c": "Paid Customer", "WoC_First_Reminder__c": "2018-11-14T14:13:06.000+0000", "OwnerId": "00580000008LcbnAAC", "WoC_Second_Reminder__c": "2018-11-20T14:13:06.000+0000", "RecordTypeId": "012800000002y3wAAA", "Escalation_JIRA_Link__c": "_HL_ENCODED_http://www.mulesoft.org/jira/browse/SE-4526_HL_SE-4526_HL__blank_HL_", "CaseNumber": "00029772", "Escalation_JIRA_Status__c": "Verification", "HasCssComments": false, "IsVisibleInSelfService": true, "Defect_ER_Number__c": "SE-4526", "SystemModstamp": "2018-11-23T17:52:04.000+0000", "Defect_ER_Impediment__c": "Impediment", "Type": "Issue", "Is_Contact_Member_of_Account__c": true, "EventsProcessedDate": "2016-05-10T00:24:16.000+0000", "Case_Open_To_Defect_ER__c": 0.0, "Defect_ER_Status__c": "Verification", "WoC_Scheduled_Auto_Close__c": "2018-11-27T14:13:06.000+0000", "n2de__Is_triggered__c": false, "QPS_New__c": 1254.21, "Defect_ER_Type__c": "Bug", "AccountId": "' + accountId + '", "Workaround__c": "Yes", "MuleSoft_Autorization__c": false, "Outcome__c": "Defect/ER Addressed", "CreatedById": "00580000005jjtaAAA", "Date_Defect_ER_Submitted__c": "2015-06-23T13:19:59.000+0000", "ClosedOnCreate": false, "Days_to_WoC__c": 1234.1, "Found_Answer_In__c": "Based on Previous Experience", "Is_Case_Contact__c": false, "Priority": "S3", "No_Active_Subscription__c": false, "Defect_ER_Subject__c": "Subject SE-4526 (9)", "CreatedByAlias": "tsnel", "IsSelfClosed": false, "Date_Waiting_on_Customer__c": "2018-11-08T14:13:06.000+0000", "Defect_ER_Link__c": "_HL_ENCODED_http://www.mulesoft.org/jira/browse/SE-4526_HL_SE-4526_HL__blank_HL_", "CurrencyIsoCode": "USD", "Closed_Day_of_Week_Pacific__c": "Error", "Cases__c": 1, "Case_Owner__c": "Adrian Martin", "IsStopped": false, "Account_Region__c": "APAC - ANZ", "CreatedDate": "2015-06-23T12:44:16.000+0000", "Phase__c": "Development", "Escalation_JIRA_Impediment__c": "Impediment", "Escalation_JIRA__c": "SE-4526", "ContactId": "0033000000Khb0lAAB", "Auto_Closed__c": false, "HasSelfServiceComments": true, "LastModifiedByAlias": "amart", "Start_Date__c": "2015-06-23", "n2de__Is_trigger_enabled__c": false, "Previous_Status__c": "Solution Offered", "Date_Working_Starts__c": "2015-06-23T12:44:17.000+0000", "n2de__Is_distributed__c": false, "Days_to_Resolution__c": 0.0, "n2de__Is_archived__c": false, "Subject": "TEST JIRA_SFDC 2", "Days_From_New_to_Working__c": "0 days 0 hours 0 mn ", "Created_Day_of_Week__c": "Tuesday", "Escalation_JIRA_Type__c": "Bug", "Last_Customer_Update__c": "2015-06-23T13:19:59.000+0000", "Case_Id_18_digit__c": "5003400000ixvzhAAA", "MsDays_on_customer__c": 15, "ContactEmail": "adrinicomartin@gmail.com", "LastModifiedById": "00580000008LcbnAAC", "n2de__Is_reassigned__c": false }, { "attributes": { "type": "Case", "url": "/services/data/v44.0/sobjects/Case/5003400000ixvzhAAA" }, "Origin": "Web", "LastModifiedDate": "2018-11-23T17:52:04.000+0000", "Anypoint_Organization__c": "_HL_ENCODED_https://anypoint.mulesoft.com/admin/index.html#/organization/e9430012-6a40-4b08-8d55-64c71197e44f/settings_HL_Victoria University Anypoint Org Settings_HL__blank_HL_", "MsPending_on__c": "Customer", "IsSelfServiceClosed": false, "BusinessHoursId": "01m30000000CdvuAAC", "Version__c": "3.6.1", "IsClosedOnCreate": false, "Product__c": "Mule Management Console (MMC)", "Status": "Waiting On Customer", "RedAlert__c": false, "IsDeleted": false, "HasCommentsUnreadByOwner": false, "Days_b_t_New_and_Working__c": 0.0, "QPS__c": 1254.21, "Was_Escalated_to_PM__c": false, "Operating_System__c": "Windows (Generic)", "Hours_Spent__c": 0.0, "Reopened__c": false, "IsEscalated": false, "Dispatch_Completed__c": false, "Created_Hour_of_Day__c": 5, "Id": "5003400000ixvzhAAA", "IsVisibleInCss": false, "Topics_Covered__c": "Other", "Support_Portal_URL__c": "https://support.mulesoft.com/s/case/5003400000ixvzh", "JVMVersion__c": "1.7", "Initial_Response_Time__c": 0.1, "Description": "Description", "Last_Follow_Up__c": "2015-06-23T14:24:54.000+0000", "Override_Auto_Close__c": false, "Was_Escalated_to_Eng__c": false, "Pacific_DST_Offset__c": 0.2917, "IsClosed": false, "ContactPhone": "0399191919", "Originator__c": "Paid Customer", "WoC_First_Reminder__c": "2018-11-14T14:13:06.000+0000", "OwnerId": "00580000008LcbnAAC", "WoC_Second_Reminder__c": "2018-11-20T14:13:06.000+0000", "RecordTypeId": "012800000002y3wAAA", "Escalation_JIRA_Link__c": "_HL_ENCODED_http://www.mulesoft.org/jira/browse/SE-4526_HL_SE-4526_HL__blank_HL_", "CaseNumber": "00029772", "Escalation_JIRA_Status__c": "Verification", "HasCssComments": false, "IsVisibleInSelfService": true, "Defect_ER_Number__c": "SE-4526", "SystemModstamp": "2018-11-23T17:52:04.000+0000", "Defect_ER_Impediment__c": "Impediment", "Type": "Issue", "Is_Contact_Member_of_Account__c": true, "EventsProcessedDate": "2016-05-10T00:24:16.000+0000", "Case_Open_To_Defect_ER__c": 0.0, "Defect_ER_Status__c": "Verification", "WoC_Scheduled_Auto_Close__c": "2018-11-27T14:13:06.000+0000", "n2de__Is_triggered__c": false, "QPS_New__c": 1254.21, "Defect_ER_Type__c": "Bug", "AccountId": "' + accountId + '", "Workaround__c": "Yes", "MuleSoft_Autorization__c": false, "Outcome__c": "Defect/ER Addressed", "CreatedById": "00580000005jjtaAAA", "Date_Defect_ER_Submitted__c": "2015-06-23T13:19:59.000+0000", "ClosedOnCreate": false, "Days_to_WoC__c": 1234.1, "Found_Answer_In__c": "Based on Previous Experience", "Is_Case_Contact__c": false, "Priority": "S3", "No_Active_Subscription__c": false, "Defect_ER_Subject__c": "Subject SE-4526 (9)", "CreatedByAlias": "tsnel", "IsSelfClosed": false, "Date_Waiting_on_Customer__c": "2018-11-08T14:13:06.000+0000", "Defect_ER_Link__c": "_HL_ENCODED_http://www.mulesoft.org/jira/browse/SE-4526_HL_SE-4526_HL__blank_HL_", "CurrencyIsoCode": "USD", "Closed_Day_of_Week_Pacific__c": "Error", "Cases__c": 1, "Case_Owner__c": "Adrian Martin", "IsStopped": false, "Account_Region__c": "APAC - ANZ", "CreatedDate": "2015-06-23T12:44:16.000+0000", "Phase__c": "Development", "Escalation_JIRA_Impediment__c": "Impediment", "Escalation_JIRA__c": "SE-4526", "ContactId": "0033000000Khb0lAAB", "Auto_Closed__c": false, "HasSelfServiceComments": true, "LastModifiedByAlias": "amart", "Start_Date__c": "2015-06-23", "n2de__Is_trigger_enabled__c": false, "Previous_Status__c": "Solution Offered", "Date_Working_Starts__c": "2015-06-23T12:44:17.000+0000", "n2de__Is_distributed__c": false, "Days_to_Resolution__c": 0.0, "n2de__Is_archived__c": false, "Subject": "TEST JIRA_SFDC 2", "Days_From_New_to_Working__c": "0 days 0 hours 0 mn ", "Created_Day_of_Week__c": "Tuesday", "Escalation_JIRA_Type__c": "Bug", "Last_Customer_Update__c": "2015-06-23T13:19:59.000+0000", "Case_Id_18_digit__c": "5003400000ixvzhAAA", "MsDays_on_customer__c": 15, "ContactEmail": "adrinicomartin@gmail.com", "LastModifiedById": "00580000008LcbnAAC", "n2de__Is_reassigned__c": false } ] } ';
        CMsJiraUpdater.destroyJiraLink(destroyMapJson);

        System.Test.stopTest();

    }    

}